<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Routes: Budva - Sveti Stefan and Sveti Stefan - Budva</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Tangerine:wght@400;700&display=swap" rel="stylesheet">

    <style>
 body {
    font-family: 'Roboto', sans-serif;
    background-color: #003366;
    margin: 0;
    padding: 0;
    min-height: 100vh;
    overflow-x: hidden; /* Убирает горизонтальную прокрутку */
}

.header {
    background-color: #002244;
    color: #ffffff;
    padding: 8px;
    text-align: center;
    font-family: 'Tangerine', cursive;
    font-size: 5em;
    font-style: italic;
    letter-spacing: 3px;
}

.schedule-container {
    background-color: #ffffff;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    border-radius: 15px;
    width: 95%;
    max-width: 1200px;
    padding: 20px;
    margin: 40px auto;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
}

h1, h2 {
    font-weight: 700;
    color: #cc0000;
    text-align: center;
}

.footer {
    margin-top: 40px;
    font-size: 1em;
    color: #ffffff;
    text-align: center;
    background-color: #002244;
    padding: 20px;
    border-radius: 0 0 15px 15px;
}

.map-container {
    width: 40%;
    margin-bottom: 30px;
}

#map1, #map2 {
    height: 350px;
    width: 100%;
    margin: 20px auto;
}

.price-container {
    width: 20%;
    text-align: center;
    margin-bottom: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.price-item img {
    width: 50px; /* Настройте под свои нужды */
    height: auto;
    margin-bottom: 8px;
}

.timetable-container {
    margin-top: 20px;
    width: 100%;
    overflow-x: auto;
}

table {
    width: 40%;
    border-collapse: collapse;
    margin: 0 auto;
}

table, th, td {
    border: 1px solid #ccc;
    text-align: center;
    padding: 5px;
}

th {
    background-color: #f2f2f2;
    font-weight: bold;
}

td {
    background-color: #ffffff;
}

.mobil-only {
    display: none; /* Скрываем на ПК */
}


.popup {
    display: none;
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.7);
}

/* Содержимое popup */
.popup-content {
    background-color: white;
    margin: 15% auto;
    padding: 20px;
    border-radius: 10px;
    width: 80%;
    max-width: 6000px;
    box-shadow: 0px 0px 15px 2px rgba(0, 0, 0, 0.5);
}

/* Кнопка закрытия popup */
.popup .close {
    color: black;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.popup .close:hover,
.popup .close:focus {
    color: red;
    text-decoration: none;
    cursor: pointer;
}

/* Стиль таблицы */
.popup table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

.popup th, .popup td {
    border: 1px solid #ccc;
    padding: 8px;
    text-align: center;
}

.popup th {
    background-color: #f2f2f2;
    font-weight: bold;
}

.dropdown-content {
    display: none; /* Скрыть по умолчанию */
    position: absolute;
    background-color: white;
    border: 1px solid #ccc;
    padding: 10px;
    z-index: 1000;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    border-radius: 5px;
}

.dropdown-content a {
    display: block;
    padding: 8px;
    text-decoration: none;
    color: black;
    cursor: pointer;
}

.dropdown-content a:hover {
    background-color: #f2f2f2;
}

.dropdown-button, .search-button, .schedule-button {
    display: inline-block;
    margin: 10px;
    padding: 10px 20px;
    font-size: 16px;
    background-color: #007BFF;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

    .schedule-selection {
    text-align: center;
    margin: 20px auto;
}

/* Медиа-запрос для мобильных устройств */
@media (max-width: 550px) {
    .schedule-container {
        flex-direction: column;
        align-items: center;
        width: 98%;
        padding: 0px;

    }

    .desktop-only {
        display: none; /* Скрываем на телефоне */
    }

    .mobil-only {
        display: block; /* Показываем только на телефоне */
        font-size: 20px;
        width: 30px;
        height: 30px;
        justify-content: center; /* Центрируем содержимое по горизонтали */
        align-items: center;    /* Центрируем содержимое по вертикали */
    }


    .price-container, .timetable-container {
        width: 90%;
        margin-bottom: 20px;
    }

    .map-container {
    width: 100%; /* или любое значение, которое вам нужно */
    margin: 10px auto; /* Уменьшите верхний/нижний отступ, если необходимо */
    padding: 0; /* Если были внутренние отступы, убираем их */
}

    table {
        width: 100%;
    }

    .highlight {
    background-color: yellow;
      font-weight: bold;
}




    }
    </style>
</head>
<body>
<div style="position: absolute; top: 20px; left: 20px;">
        <a href="index.html" class="home-button desktop-only" style="text-decoration: none; background-color: #cc0000; color: white; padding: 10px 20px; border-radius: 5px; font-weight: bold;">Home</a>
        <a href="index.html" class="home-button mobil-only" style="text-decoration: none; background-color: #cc0000; color: white; border-radius: 10px; font-weight: bold;">⬅</a>
    </div>
    <div class="header">
        Mediteran Express
    </div>
    <div class="schedule-container">

<div class="map-container">
    <h1>Bus Route: Budva - Sveti Stefan</h1>
    <div id="map1"></div>
    <div class="timetable-container">
        <h2>Timetable for Stops</h2>
       <div class="timetable-container">
    <button class="schedule-button">Detailed Schedule</button>
</div>
        <p style="text-align: center;">*This timetable is subject to change due to traffic conditions.</p>
    </div>
</div>

      <div id="schedulePopup" class="popup">
    <div class="popup-content">
        <span class="close">&times;</span>
        <h2>Detailed Schedule</h2>
              <div class="filter-buttons">
            <button id="departureButton" class="dropdown-button">Select Departure</button>
            <div id="departureDropdown" class="dropdown-content">
                <a href="#" data-station="Budva">Budva</a>
                <a href="#" data-station="Crvena Zgrad">Crvena Zgrad</a>
                <a href="#" data-station="Stadion">Stadion</a>
                <a href="#" data-station="Aquapark">Aqua park</a>
                <a href="#" data-station="Moc">Moc</a>
                <a href="#" data-station="Belavista">Belavista</a>
                <a href="#" data-station="Rafailovichi">Rafailovichi</a>
                <a href="#" data-station="Kamenovo">Kamenovo</a>
                <a href="#" data-station="Maestral">Maestral</a>
                <a href="#" data-station="Przno">Przno</a>
                <a href="#" data-station="Sveti Stefan">Sveti Stefan</a>
            </div>

            <button id="arrivalButton" class="dropdown-button">Select Arrival</button>
            <div id="arrivalDropdown" class="dropdown-content">
                <a href="#" data-station="Sveti Stefan">Sveti Stefan</a>
                <a href="#" data-station="Przno">Przno</a>
                <a href="#" data-station="Maestral">Maestral</a>
                <a href="#" data-station="Kamenovo">Kamenovo</a>
                <a href="#" data-station="Rafailovichi">Rafailovichi</a>
                <a href="#" data-station="Belavista">Belavista</a>
                <a href="#" data-station="Moc">Moc</a>
                <a href="#" data-station="Aqua park">Aqua park</a>
                <a href="#" data-station="Stadion">Stadion</a>
                <a href="#" data-station="Crvena Zgrad">Crvena Zgrad</a>
            </div>

            <button id="intervalButton" class="dropdown-button">Select Time Interval</button>
            <div id="intervalDropdown" class="dropdown-content">
                <a href="#" data-interval="06:00-08:00">06:00-08:00</a>
                <a href="#" data-interval="08:00-10:00">08:00-10:00</a>
                <a href="#" data-interval="10:00-12:00">10:00-12:00</a>
                <a href="#" data-interval="10:00-12:00">12:00-14:00</a>
            </div>

            <button id="searchButton" class="search-button">Find Schedule</button>
            <button id="showAllButton" class="search-button">Show All</button>
        </div>
     <div id="result"></div>


    </div>
</div>




                <div class="price-container">
             <p><h2>Price for stops</h2></p>
                    <div class="price-item">
                        <p><h2> ↓ </h2></p>

            </div>
            <div class="price-item">
                <img src="img/Bus_Red.png" alt="Red Stop">
                <p>Red Ticket - €1.5</p>
            </div>
            <div class="price-item">
                <img src="img/Bus_Blue.png" alt="Blue Stop">
                <p>Blue Ticket - €2</p>
            </div>
            <div class="price-item">
                <img src="img/Bus_Green.png" alt="Green Stop">
                <p>Green Ticket - €2.5</p>
            </div>
        </div>


        <div class="map-container">
            <h1>Bus Route: Sveti Stefan - Budva</h1>
            <div id="map2"></div>
            <div class="timetable-container">
        <h2>Timetable for Stops</h2>
        <table id="routeSvetiStefanBudva">
            <thead>
                <tr>
                            <th>Stop</th>
                            <th>06:20</th>
                            <th>07:00</th>
                            <th>07:30</th>
                            <th>08:00</th>
                            <th>08:30</th>
                            <th>Every 20 min</th>
                            <th>00:30</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Sveti Stefan</td>
                            <td>06:20</td>
                            <td>07:00</td>
                            <td>07:30</td>
                            <td>08:00</td>
                            <td>08:30</td>
                            <td>...</td>
                            <td>00:30</td>
                        </tr>
                        <tr>
                            <td>Vertmont</td>
                            <td>06:23</td>
                            <td>07:03</td>
                            <td>07:33</td>
                            <td>08:03</td>
                            <td>08:33</td>
                            <td>...</td>
                            <td>00:33</td>
                        </tr>
                        <tr>
                            <td>Adrovichi</td>
                            <td>06:26</td>
                            <td>07:06</td>
                            <td>07:36</td>
                            <td>08:06</td>
                            <td>08:36</td>
                            <td>...</td>
                            <td>00:36</td>
                        </tr>
                        <tr>
                            <td>Kamenovo</td>
                            <td>06:29</td>
                            <td>07:09</td>
                            <td>07:39</td>
                            <td>08:09</td>
                            <td>08:39</td>
                            <td>...</td>
                            <td>00:39</td>
                        </tr>
                        <tr>
                            <td>Rafailovichi</td>
                            <td>06:32</td>
                            <td>07:12</td>
                            <td>07:42</td>
                            <td>08:12</td>
                            <td>08:42</td>
                            <td>...</td>
                            <td>00:42</td>
                        </tr>
                        <tr>
                            <td>Brlavista</td>
                            <td>06:35</td>
                            <td>07:15</td>
                            <td>07:45</td>
                            <td>08:15</td>
                            <td>08:45</td>
                            <td>...</td>
                            <td>00:45</td>
                        </tr>
                        <tr>
                            <td>Moc</td>
                            <td>06:38</td>
                            <td>07:18</td>
                            <td>07:48</td>
                            <td>08:18</td>
                            <td>08:48</td>
                            <td>...</td>
                            <td>00:48</td>
                        </tr>
                        <tr>
                            <td>Aquapark</td>
                            <td>06:41</td>
                            <td>07:21</td>
                            <td>07:51</td>
                            <td>08:21</td>
                            <td>08:51</td>
                            <td>...</td>
                            <td>00:51</td>
                        </tr>
                        <tr>
                            <td>Slavija</td>
                            <td>06:44</td>
                            <td>07:24</td>
                            <td>07:54</td>
                            <td>08:24</td>
                            <td>08:54</td>
                            <td>...</td>
                            <td>00:54</td>
                        </tr>
                        <tr>
                            <td>Bus Station</td>
                            <td>06:47</td>
                            <td>07:27</td>
                            <td>07:57</td>
                            <td>08:27</td>
                            <td>08:57</td>
                            <td>...</td>
                            <td>00:57</td>
                        </tr>
                        <tr>
                            <td>Old town</td>
                            <td>06:50</td>
                            <td>07:30</td>
                            <td>08:00</td>
                            <td>08:30</td>
                            <td>09:00</td>
                            <td>...</td>
                            <td>01:00</td>
                        </tr>
            </tbody>
        </table>
        <p style="text-align: center;">*This timetable is subject to change due to traffic conditions.</p>
    </div>
        </div>
    </div>
    <div class="footer">
        Contact us for more information about the schedule and routes.
    </div>
    <script>
        function initMap() {
            var map1 = new google.maps.Map(document.getElementById('map1'), {
                zoom: 13,
                center: {lat: 42.2867, lng: 18.8414}
            });

            var kmlLayer1 = new google.maps.KmlLayer({
                url: 'https://drive.google.com/uc?id=1aXA_KFwaNmmldNBbiS-VQQvpJRRc9Fgd',
                map: map1
            });

            var map2 = new google.maps.Map(document.getElementById('map2'), {
                zoom: 13,
                center: {lat: 42.2867, lng: 18.8414}
            });

            var kmlLayer2 = new google.maps.KmlLayer({
                url: 'https://drive.google.com/uc?id=17vJKvg5c4JtjPOYZ7EREV-At0DeMYN59',
                map: map2
            });
        }


    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCuVZouqPoNNvzq781PhW4PJkoa9OF0hjw&callback=initMap" async defer></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Получаем элементы
        const popup = document.getElementById('schedulePopup');
        const openButton = document.querySelector('.schedule-button');
        const closeButton = popup.querySelector('.close');

        // Функция для открытия popup
        openButton.addEventListener('click', () => {
            popup.style.display = 'block';
        });

        // Функция для закрытия popup
        closeButton.addEventListener('click', () => {
            popup.style.display = 'none';
        });

        // Закрытие popup при клике вне окна
        window.addEventListener('click', (event) => {
            if (event.target === popup) {
                popup.style.display = 'none';
            }
        });
    });
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const departureButton = document.getElementById('departureButton');
    const arrivalButton = document.getElementById('arrivalButton');
    const intervalButton = document.getElementById('intervalButton');
    const searchButton = document.getElementById('searchButton');
    const showAllButton = document.getElementById('showAllButton');

    const departureDropdown = document.getElementById('departureDropdown');
    const arrivalDropdown = document.getElementById('arrivalDropdown');
    const intervalDropdown = document.getElementById('intervalDropdown');

    const resultContainer = document.getElementById('result');

    // Данные расписания
    const stops = ["Budva", "Crvena Zgrad", "Stadion", "Aqua park", "Moc", "Belavista", "Rafailovichi", "Kamenovo", "Maestral", "Przno", "Sveti Stefan"];
    const times = {
  "06:00": ["06:00", "06:03", "06:06", "06:09", "06:12", "06:15", "06:18", "06:21", "06:24", "06:27", "06:30"],
  "06:30": ["06:30", "06:33", "06:36", "06:39", "06:42", "06:45", "06:48", "06:51", "06:54", "06:57", "07:00"],
  "07:00": ["07:00", "07:03", "07:06", "07:09", "07:12", "07:15", "07:18", "07:21", "07:24", "07:27", "07:30"],
  "07:30": ["07:30", "07:33", "07:36", "07:39", "07:42", "07:45", "07:48", "07:51", "07:54", "07:57", "08:00"],
  "08:00": ["08:00", "08:03", "08:06", "08:09", "08:12", "08:15", "08:18", "08:21", "08:24", "08:27", "08:30"],
  "08:20": ["08:20", "08:23", "08:26", "08:29", "08:32", "08:35", "08:38", "08:41", "08:44", "08:47", "08:50"],
  "08:40": ["08:40", "08:43", "08:46", "08:49", "08:52", "08:55", "08:58", "09:01", "09:04", "09:07", "09:10"],
  "09:00": ["09:00", "09:03", "09:06", "09:09", "09:12", "09:15", "09:18", "09:21", "09:24", "09:27", "09:30"],
  "09:20": ["09:20", "09:23", "09:26", "09:29", "09:32", "09:35", "09:38", "09:41", "09:44", "09:47", "09:50"],
  "09:40": ["09:40", "09:43", "09:46", "09:49", "09:52", "09:55", "09:58", "10:01", "10:04", "10:07", "10:10"],
  "10:00": ["10:00", "10:03", "10:06", "10:09", "10:12", "10:15", "10:18", "10:21", "10:24", "10:27", "10:30"],
  "10:20": ["10:20", "10:23", "10:26", "10:29", "10:32", "10:35", "10:38", "10:41", "10:44", "10:47", "10:50"],
  "10:40": ["10:40", "10:43", "10:46", "10:49", "10:52", "10:55", "10:58", "11:01", "11:04", "11:07", "11:10"],
  "11:00": ["11:00", "11:03", "11:06", "11:09", "11:12", "11:15", "11:18", "11:21", "11:24", "11:27", "11:30"],
  "11:20": ["11:20", "11:23", "11:26", "11:29", "11:32", "11:35", "11:38", "11:41", "11:44", "11:47", "11:50"],
  "11:40": ["11:40", "11:43", "11:46", "11:49", "11:52", "11:55", "11:58", "12:01", "12:04", "12:07", "12:10"],
  "12:00": ["12:00", "12:03", "12:06", "12:09", "12:12", "12:15", "12:18", "12:21", "12:24", "12:27", "12:30"],
  "12:20": ["12:20", "12:23", "12:26", "12:29", "12:32", "12:35", "12:38", "12:41", "12:44", "12:47", "12:50"],
  "12:40": ["12:40", "12:43", "12:46", "12:49", "12:52", "12:55", "12:58", "13:01", "13:04", "13:07", "13:10"],
  "13:00": ["13:00", "13:03", "13:06", "13:09", "13:12", "13:15", "13:18", "13:21", "13:24", "13:27", "13:30"],
  "13:20": ["13:20", "13:23", "13:26", "13:29", "13:32", "13:35", "13:38", "13:41", "13:44", "13:47", "13:50"],
  "13:40": ["13:40", "13:43", "13:46", "13:49", "13:52", "13:55", "13:58", "14:01", "14:04", "14:07", "14:10"],
  "14:00": ["14:00", "14:03", "14:06", "14:09", "14:12", "14:15", "14:18", "14:21", "14:24", "14:27", "14:30"],
  "14:20": ["14:20", "14:23", "14:26", "14:29", "14:32", "14:35", "14:38", "14:41", "14:44", "14:47", "14:50"],
  "14:40": ["14:40", "14:43", "14:46", "14:49", "14:52", "14:55", "14:58", "15:01", "15:04", "15:07", "15:10"],
  "15:00": ["15:00", "15:03", "15:06", "15:09", "15:12", "15:15", "15:18", "15:21", "15:24", "15:27", "15:30"],
  "15:20": ["15:20", "15:23", "15:26", "15:29", "15:32", "15:35", "15:38", "15:41", "15:44", "15:47", "15:50"],
  "15:40": ["15:40", "15:43", "15:46", "15:49", "15:52", "15:55", "15:58", "16:01", "16:04", "16:07", "16:10"],
  "16:00": ["16:00", "16:03", "16:06", "16:09", "16:12", "16:15", "16:18", "16:21", "16:24", "16:27", "16:30"],
  "16:20": ["16:20", "16:23", "16:26", "16:29", "16:32", "16:35", "16:38", "16:41", "16:44", "16:47", "16:50"],
  "16:40": ["16:40", "16:43", "16:46", "16:49", "16:52", "16:55", "16:58", "17:01", "17:04", "17:07", "17:10"],
  "17:00": ["17:00", "17:03", "17:06", "17:09", "17:12", "17:15", "17:18", "17:21", "17:24", "17:27", "17:30"],
  "17:20": ["17:20", "17:23", "17:26", "17:29", "17:32", "17:35", "17:38", "17:41", "17:44", "17:47", "17:50"],
  "17:40": ["17:40", "17:43", "17:46", "17:49", "17:52", "17:55", "17:58", "18:01", "18:04", "18:07", "18:10"],
  "18:00": ["18:00", "18:03", "18:06", "18:09", "18:12", "18:15", "18:18", "18:21", "18:24", "18:27", "18:30"],
  "18:20": ["18:20", "18:23", "18:26", "18:29", "18:32", "18:35", "18:38", "18:41", "18:44", "18:47", "18:50"],
  "18:40": ["18:40", "18:43", "18:46", "18:49", "18:52", "18:55", "18:58", "19:01", "19:04", "19:07", "19:10"],
  "19:00": ["19:00", "19:03", "19:06", "19:09", "19:12", "19:15", "19:18", "19:21", "19:24", "19:27", "19:30"],
  "19:20": ["19:20", "19:23", "19:26", "19:29", "19:32", "19:35", "19:38", "19:41", "19:44", "19:47", "19:50"],
  "19:40": ["19:40", "19:43", "19:46", "19:49", "19:52", "19:55", "19:58", "20:01", "20:04", "20:07", "20:10"],
  "20:00": ["20:00", "20:03", "20:06", "20:09", "20:12", "20:15", "20:18", "20:21", "20:24", "20:27", "20:30"],
  "20:20": ["20:20", "20:23", "20:26", "20:29", "20:32", "20:35", "20:38", "20:41", "20:44", "20:47", "20:50"],
  "20:40": ["20:40", "20:43", "20:46", "20:49", "20:52", "20:55", "20:58", "21:01", "21:04", "21:07", "21:10"],
  "21:00": ["21:00", "21:03", "21:06", "21:09", "21:12", "21:15", "21:18", "21:21", "21:24", "21:27", "21:30"],
  "21:20": ["21:20", "21:23", "21:26", "21:29", "21:32", "21:35", "21:38", "21:41", "21:44", "21:47", "21:50"],
  "21:40": ["21:40", "21:43", "21:46", "21:49", "21:52", "21:55", "21:58", "22:01", "22:04", "22:07", "22:10"],
  "22:00": ["22:00", "22:03", "22:06", "22:09", "22:12", "22:15", "22:18", "22:21", "22:24", "22:27", "22:30"],
  "22:20": ["22:20", "22:23", "22:26", "22:29", "22:32", "22:35", "22:38", "22:41", "22:44", "22:47", "22:50"],
  "22:40": ["22:40", "22:43", "22:46", "22:49", "22:52", "22:55", "22:58", "23:01", "23:04", "23:07", "23:10"],
  "23:00": ["23:00", "23:03", "23:06", "23:09", "23:12", "23:15", "23:18", "23:21", "23:24", "23:27", "23:30"],
  "23:20": ["23:20", "23:23", "23:26", "23:29", "23:32", "23:35", "23:38", "23:41", "23:44", "23:47", "23:50"],
  "23:40": ["23:40", "23:43", "23:46", "23:49", "23:52", "23:55", "23:58", "00:01", "00:04", "00:07", "00:10"],
  "00:00": ["00:00", "00:03", "00:06", "00:09", "00:12", "00:15", "00:18", "00:21", "00:24", "00:27", "00:30"],
    };

    let selectedDeparture = null;
    let selectedArrival = null;
    let selectedInterval = null;

    // Функция для управления dropdown
    function setupDropdown(button, dropdown, callback) {
        button.addEventListener('click', () => {
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        });

        dropdown.addEventListener('click', (event) => {
            if (event.target.tagName === 'A') {
                const value = event.target.dataset.station || event.target.dataset.interval;
                button.textContent = event.target.textContent; // Обновляем текст кнопки
                dropdown.style.display = 'none'; // Скрываем dropdown
                callback(value); // Сохраняем выбранное значение
            }
        });

        // Закрываем dropdown при клике вне его
        window.addEventListener('click', (event) => {
            if (!dropdown.contains(event.target) && !button.contains(event.target)) {
                dropdown.style.display = 'none';
            }
        });
    }

    // Настройка dropdowns
    setupDropdown(departureButton, departureDropdown, (value) => selectedDeparture = value);
    setupDropdown(arrivalButton, arrivalDropdown, (value) => selectedArrival = value);
    setupDropdown(intervalButton, intervalDropdown, (value) => selectedInterval = value);

    // Функция для отображения таблицы
function renderTable(filteredTimes) {
    if (!filteredTimes || Object.keys(filteredTimes).length === 0) {
        resultContainer.innerHTML = `<p>No schedule found for the selected filters.</p>`;
        return;
    }

    resultContainer.innerHTML = `
        <table>
            <thead>
                <tr>
                    <th>Time</th>
                    ${stops.map(stop => `<th>${stop}</th>`).join('')}
                </tr>
            </thead>
            <tbody>
                ${Object.entries(filteredTimes).map(([time, timesArray]) => `
                    <tr>
                        <td>${time}</td>
                        ${timesArray.map((stopTime, index) => `
                            <td ${stops[index] === selectedDeparture || stops[index] === selectedArrival ? 'class="highlight"' : ''}>
                                ${stopTime}
                            </td>
                        `).join('')}
                    </tr>
                `).join('')}
            </tbody>
        </table>
        `;
    }

    // Обработчик кнопки поиска расписания
    searchButton.addEventListener('click', () => {
        console.log("Search button clicked"); // Проверка: нажата ли кнопка

        if (!selectedDeparture || !selectedArrival || !selectedInterval) {
            alert('Please select departure, arrival, and interval!');
            console.log("Missing input: ", { selectedDeparture, selectedArrival, selectedInterval });
            return;
        }

        console.log("Selected values: ", { selectedDeparture, selectedArrival, selectedInterval });

        // Преобразуем выбранный интервал в границы
        const [start, end] = selectedInterval.split('-');
        const startTime = parseInt(start.replace(':', ''), 10);
        const endTime = parseInt(end.replace(':', ''), 10);

        console.log("Time range: ", { startTime, endTime });

        // Фильтруем расписание по времени
        const filteredTimes = Object.fromEntries(
            Object.entries(times).filter(([time]) => {
                const numericTime = parseInt(time.replace(':', ''), 10);
                return numericTime >= startTime && numericTime <= endTime;
            })
        );

        console.log("Filtered times: ", filteredTimes);

        if (Object.keys(filteredTimes).length === 0) {
            alert('No schedule found for the selected interval!');
            return;
        }

        renderTable(filteredTimes);
    });

    // Обработчик кнопки "Show All"
    showAllButton.addEventListener('click', () => {
        console.log("Show All button clicked");
        renderTable(times);
    });
});

</script>

</body>
</html>
